# proto 

### 如何编译proto

```
make gen-go
```

### git流水线功能
```
本地编辑.proto文件
生成代码不需要手动生成
提交以后流水线自动生成.pb.go文件并且自动tag往上迭代(v0.11变0.12)
```

### proto分层
```
rpc 接口是适用于多人协作
大项目会把proto归属到各个小组(每个小组一个git仓库存放proto文件)
我这里把所有业务的rpc都放在一个仓库了
文件夹层级也只有2级
```

### proto文件一定是独立的仓库，不挂到任何一个业务仓库里面

### 业务仓库之间比如微服务-用户中心和微服务-订单中心，他们之间禁止直接go.mod互相引用，他们之间的关联只有.proto里面的RPC接口

### 在k8s环境rpc之间访问是通过Service也就是 user.svc.local 因为k8s做好了服务注册发现以及负载均衡等，其他可以使用 hashicorp/consul

